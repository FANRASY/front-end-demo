<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>mvc模式</title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			.box{
				width: 200px;
				-webkit-box-shadow: 0 0 10px #ccc;
				-moz-box-shadow:  0 0 10px #ccc;
				box-shadow:  0 0 10px #ccc;
				overflow: hidden;
				margin: 0 auto;
			}
			.num{
				width: 200px;
				height: 150px;
				line-height: 150px;
				text-align: center;
				color: black;
				background: white;
				font-size: 30px;
			}
			.add,.sub{
				width: 100px;
				height: 75px;
				line-height: 65px;
				text-align: center;
				color: white;
				float: left;
				font-size: 56px;
				cursor: pointer;
			}
			.add{
				background: #dab373;
			}
			.sub{
				background: black;
			}
			p{
				text-indent: 20px;
				padding: 20px;
			}
			img{
				margin: 0 auto;
				display: block;
			}
		</style>
	</head>
	<body>
		<img src="img/mvvm.png" alt="" />
		<p>
			总结
			MV*的目的是把应用程序的数据、业务逻辑和界面这三块解耦，分离关注点，不仅利于团队协作和测试，更有利于甩锅维护和管理。业务逻辑不再关心底层数据的读写，而这些数据又以对象的形式呈现给业务逻辑层。从 MVC --> MVP --> MVVM，就像一个打怪升级的过程，它们都是在MVC的基础上随着时代和应用环境的发展衍变而来的。
			
			在我们纠结于使用什么架构模式或框架的时候，不如先了解它们。静下来思考业务场景和开发需求，不同需求下会有最适合的解决方案。我们使用这个框架就代表认同它的思想，相信它能够提升开发效率解决当前的问题，而不仅仅是因为大家都在学。
			
			有人对新技术乐此不疲，有人对新技术不屑一顾。正如狄更斯在《双城记》中写的：
			
			这是最好的时代，这是最坏的时代，这是智慧的时代，这是愚蠢的时代；这是信仰的时期，这是怀疑的时期；这是光明的季节，这是黑暗的季节；这是希望之春，这是失望之冬；人们面前应有尽有，人们面前一无所有；人们正在直登天堂；人们正在直下地狱。
			
			请保持一颗拥抱变化的心，在新技术面前不盲目，不守旧。
		</p>
	</body>
	<script type="text/javascript">
		var foo = {
		  name: 'vue',
		  version: '2.0'
		}
		
		function observe(data) {
		    if (!data || typeof data !== 'object') {
		        return
		    }
		    // 使用递归劫持对象属性
		    Object.keys(data).forEach(function(key) {
		        defineReactive(data, key, data[key]);
		    })
		}
		
		function defineReactive(obj, key, value) {
		     // 监听子属性 比如这里data对象里的 'name' 或者 'version'
		     observe(value)
		
		    Object.defineProperty(obj, key, {
		        get: function reactiveGetter() {
		            	return value
		        },
		        set: function reactiveSetter(newVal) {
		            if (value === newVal) {
		                return
		            } else {
		                value = newVal
		                console.log(`监听成功：${value} --> ${newVal}`)
		            }
		        }
		    })
		}
		
		observe(foo)
		foo.name = 'angular' // “监听成功：vue --> angular”
	</script>
</html>
